<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GES</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<!-- Styles -->
<style>
body {
  margin:0; font-family:'Poppins', sans-serif;
  background: linear-gradient(135deg, #f9957f, #f2f5d0);
}
/* White top box */
.top-bar {
  background: white;
  padding: 2.5cm 20px;
  display:flex; align-items:center; justify-content:space-between;
}
.top-left, .top-right { display:flex; gap:15px; align-items:center; }
.top-left span, .top-right button { font-weight:600; cursor:pointer; }

/* Hero section */
.hero { height:600px; display:flex; align-items:center; justify-content:center; font-size:2rem; }

/* Explore All button */
.explore-all {
  cursor:pointer; margin:20px; padding:10px 20px; background:#f48c70; color:white; font-weight:600; border-radius:8px; display:inline-block;
}

/* Product panel */
.product-panel {
  position:fixed; bottom:-100%; left:0; width:100%; background:white; transition:bottom 0.5s;
  padding:20px; display:flex; gap:15px; overflow-x:auto; z-index:999;
}
.product-box {
  min-width:200px; flex-shrink:0; border:1px solid #ccc; padding:10px; text-align:center; cursor:pointer; transition: transform 0.3s;
}
.product-box:hover { transform: scale(1.05); }
.product-box img { width:100%; }

/* Close button */
.close-panel { position:absolute; top:10px; right:10px; cursor:pointer; font-size:18px; font-weight:bold; }

/* Modal */
.modal {
  display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:1000;
}
.modal-content { background:white; padding:20px; border-radius:8px; width:90%; max-width:400px; display:flex; flex-direction:column; gap:10px; }

/* Responsive */
@media (max-width:768px){
  .top-bar{ flex-direction:column; padding:2cm 10px;}
  .top-left, .top-right{ flex-wrap:wrap; justify-content:center;}
  .product-box{ min-width:150px; }
}
</style>

<!-- Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";
import { getFirestore, doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyB7IdVKr0f8hDj0ARHDR72s7mBMpWrSsMM",
  authDomain: "ecommerce-4a3db.firebaseapp.com",
  projectId: "ecommerce-4a3db"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// Google Login
async function googleLogin(){
  const provider = new GoogleAuthProvider();
  try {
    const result = await signInWithPopup(auth, provider);
    const user = result.user;
    await setDoc(doc(db,"users",user.uid),{
      email:user.email,
      provider:"Google",
      timestamp:serverTimestamp()
    });
    alert("Welcome "+user.displayName);
    closeModal();
  } catch(e){ console.error(e); alert("Login Failed"); }
}

// Email SignUp/Login
async function emailSignUp(email, password){
  try {
    const result = await createUserWithEmailAndPassword(auth,email,password);
    const user = result.user;
    await setDoc(doc(db,"users",user.uid),{
      email:user.email,
      provider:"Email",
      timestamp:serverTimestamp()
    });
    alert("Signup Successful!");
    closeModal();
  } catch(e){ console.error(e); alert("Signup Failed"); }
}

// Modal control
function openModal(){ document.getElementById('modal').style.display='flex'; }
function closeModal(){ document.getElementById('modal').style.display='none'; }

// Shop Now
function shopNow(){
  if(!auth.currentUser){ openModal(); }
  else{ alert("Go to Shop Section!"); document.getElementById('productPanel').style.bottom='0'; }
}

// Explore All
function toggleProductPanel(){
  const panel = document.getElementById('productPanel');
  panel.style.bottom = (panel.style.bottom==='0px' || panel.style.bottom==='0')? '-100%':'0';
}

window.googleLogin = googleLogin;
window.emailSignUp = emailSignUp;
window.openModal = openModal;
window.closeModal = closeModal;
window.shopNow = shopNow;
window.toggleProductPanel = toggleProductPanel;
</script>

</head>
<body>

<!-- Top bar -->
<div class="top-bar">
  <div class="top-left">
    <span>Telegram</span>
    <span>Email</span>
    <span>TikTok</span>
    <span>GES</span>
  </div>
  <div class="top-right">
    <button onclick="openModal()">Sign In/Up</button>
    <button onclick="shopNow()">Shop Now</button>
  </div>
</div>

<!-- Hero section -->
<div class="hero">
  <h1>Hero Person Image Here</h1>
</div>

<!-- Explore All -->
<div class="explore-all" onclick="toggleProductPanel()">Explore All</div>

<!-- Product Panel -->
<div class="product-panel" id="productPanel">
  <div class="close-panel" onclick="toggleProductPanel()">âœ–</div>
  <div class="product-box" onclick="alert('Enlarge Product 1')">
    <img src="product1.png">
    <p>Product 1</p><p>$20</p>
  </div>
  <div class="product-box" onclick="alert('Enlarge Product 2')">
    <img src="product2.png">
    <p>Product 2</p><p>$30</p>
  </div>
</div>

<!-- Sign In/Up Modal -->
<div class="modal" id="modal">
  <div class="modal-content">
    <button onclick="closeModal()">Close</button>
    <h3>Sign In / Sign Up</h3>
    <button onclick="googleLogin()">Sign in with Google</button>
    <input type="email" id="emailInput" placeholder="Email">
    <input type="password" id="passwordInput" placeholder="Password">
    <button onclick="emailSignUp(document.getElementById('emailInput').value, document.getElementById('passwordInput').value)">Sign Up / Login</button>
  </div>
</div>

</body>
</html>
